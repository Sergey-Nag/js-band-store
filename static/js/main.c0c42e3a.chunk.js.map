{"version":3,"sources":["img/unknown-guy.svg","service/QueryApi.js","store/types/userTypes.js","store/actions/userActions.js","components/Spinner/Spinner.js","components/LoginCard/LoginForm.js","components/LoginCard/index.js","components/LoginCard/LoginCard.js","pages/LoginPage/index.js","pages/LoginPage/loginPage.js","components/ProductCard/ProductCard.js","components/Wrapp/Wrapp.js","components/Catalog/Catalog.js","img/search.svg","img/filter.svg","store/types/booksTypes.js","store/actions/booksActions.js","components/CatalogControls/index.js","components/CatalogControls/CatalogControls.js","components/IconMessage/index.js","components/IconMessage/IconMessage.js","components/Wrapp/index.js","img/searchNotFound.svg","pages/CatalogPage/CatalogFilterNotFound.js","img/shopping-cart.svg","components/Header/index.js","components/Header/Header.js","pages/CatalogPage/index.js","pages/CatalogPage/CatalogPage.js","components/ProductSingle/ProductDescription.js","components/ProductSingle/PriceCalc.js","store/types/cartTypes.js","components/ProductSingle/ProductSingle.js","store/actions/cartActions.js","components/Spinner/index.js","pages/ProductPage/index.js","pages/ProductPage/ProductPage.js","components/Cart/index.js","components/Cart/Cart.js","store/types/purchaseTypes.js","store/actions/purchaseActions.js","components/Cart/CartPurchase.js","components/Cart/CartEmpty.js","store/types/modalTypes.js","pages/CartPage/index.js","pages/CartPage/CartPage.js","pages/NotFoundPage/index.js","pages/NotFoundPage/NotFoundPage.js","components/Modal/index.js","components/Modal/Modal.js","hooks/useRequestError.js","App.js","reportWebVitals.js","store/reducers/userReducer.js","store/reducers/booksReducer.js","store/reducers/cartReducer.js","store/reducers/purchaseReducer.js","store/reducers/modalReducer.js","store/reducers/index.js","store/index.js","index.js"],"names":["QueryApi","URL","method","path","token","data","a","response","fetch","this","headers","Authorization","body","JSON","stringify","request","ok","json","message","username","query","id","books","instance","AUTH_USER","AUTH_USER_ERROR","CLEAR_USER_ERROR","AUTH_USER_LOADING","CLEAR_USER","getInstance","Spinner","as","data-testid","className","role","aria-hidden","LoginForm","handleSubmitForm","errorText","user","useSelector","state","usernameValue","setUsernameValue","onChangeInputHandler","useCallback","target","value","trim","onSubmit","htmlFor","type","placeholder","onChange","disabled","isLoading","LoginCard","useState","setUsername","setErrorText","dispatch","useDispatch","src","avatar","userImg","alt","e","preventDefault","length","signin","req","payload","localStorage","setItem","LoginPage","history","useEffect","document","title","setTimeout","replace","ProductCard","product","price","cover","author","to","Wrapp","children","classes","Catalog","items","map","item","LOAD_BOOKS","LOAD_BOOKS_ERROR","CLEAR_BOOKS_ERROR","LOAD_BOOKS_LOADING","LOAD_BOOK_BY_ID","LOAD_BOOK_BY_ID_LOADING","CLEAR_BOOK_SINGLE","FILTER_BOOKS","ADD_FILTER_BOOKS_BY_TITLE","ADD_FILTER_BOOKS_BY_PRICE","CLEAR_FILTER_BOOKS","updateCatalog","getState","filterCondition","CatalogControls","filterText","setFilterText","filterSelect","setFilterSelect","filterByText","searchText","toLowerCase","includes","filterByTitle","filterByPrice","filterBooksByPrice","searchIcon","style","width","filterIcon","IconMessage","icon","opacity","CatalogFilterNotFound","searchNotFound","Header","cart","signOut","removeItem","paddingTop","margin","onClick","cartIcon","CatalogPage","parse","getItem","loadBooks","isCatalogLoading","size","center","filteredCatalog","catalog","ProductDescription","description","tags","tag","PriceCalc","totalPrice","count","userCount","setUserCount","setTotalPrice","multiplyPrice","toFixed","countChange","marginTop","min","max","PUSH_PRODUCT_TO_CART","CLEAR_CART","ProductSingle","addProductToCart","pushProductToCart","ProductPage","match","params","loadBookById","single","isSingleLoading","Cart","totalSum","setTotalSum","total","reduce","acc","key","PURCHASE_SENDING","PURCHASE_ERROR","CLEAR_PURCHASE_ERROR","PURCHASE_SUCCESS","CLEAR_PURCHASE","returnBooksIdArr","products","arr","i","push","purchaseCart","productsId","purchase","CartPurchase","isAvialable","sendPurchase","isSending","CartEmpty","OPEN_MODAL","CLOSE_MODAL","CartPage","isSuccess","onClose","NotFoundPage","Modal","error","errorMessage","modalWrapp","useRef","closeModal","clearError","wrapper","current","handlerWrappClick","classList","contains","addEventListener","removeEventListener","ref","useRequestError","isError","setError","setErrorMessage","App","modal","userInStorage","signinFromStorage","basename","process","exact","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","filterConditions","cond","rootReducer","combineReducers","action","filter","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c0c42e3a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/unknown-guy.4b684e29.svg\";","export default class QueryApi {\r\n  URL = 'https://js-band-store-api.glitch.me';\r\n\r\n  static instance = null;\r\n\r\n  static getInstance() {\r\n    QueryApi.instance = QueryApi.instance ?? new QueryApi();\r\n\r\n    return QueryApi.instance;\r\n  }\r\n\r\n  async query(method, path, token, data) {\r\n    let response = null;\r\n\r\n    try {\r\n      const request = await fetch(this.URL + path, {\r\n        method,\r\n        headers: {\r\n          'Content-Type': 'application/json;charset=utf-8',\r\n          Authorization: token ? `Bearer ${token}` : false,\r\n        },\r\n        body: JSON.stringify(data),\r\n      });\r\n\r\n      response = {\r\n        ok: request.ok,\r\n        data: await request.json(),\r\n      };\r\n    } catch (error) {\r\n      response = {\r\n        ok: false,\r\n        data: { message: 'Network error, please, try again' },\r\n      };\r\n    }\r\n\r\n    return response;\r\n  }\r\n\r\n  async signin(username) {\r\n    const request = await this.query('POST', '/signin', false, {\r\n      username,\r\n    });\r\n\r\n    return request;\r\n  }\r\n\r\n  async loadBooks(token) {\r\n    const request = await this.query('GET', '/books', token);\r\n\r\n    return request;\r\n  }\r\n\r\n  async loadBookById(id, token) {\r\n    const request = await this.query('GET', `/books/${id}`, token);\r\n\r\n    return request;\r\n  }\r\n\r\n  async purchase(data, token) {\r\n    const request = await this.query('POST', '/purchase', token, {\r\n      books: data,\r\n    });\r\n\r\n    return request;\r\n  }\r\n}\r\n","export const AUTH_USER = 'AUTH_USER';\r\nexport const AUTH_USER_ERROR = 'AUTH_USER_ERROR';\r\nexport const CLEAR_USER_ERROR = 'CLEAR_USER_ERROR';\r\nexport const AUTH_USER_LOADING = 'AUTH_USER_LOADING';\r\nexport const CLEAR_USER = 'CLEAR_USER';\r\n","import QueryApi from '../../service/QueryApi';\r\nimport {\r\n  AUTH_USER,\r\n  AUTH_USER_ERROR,\r\n  AUTH_USER_LOADING,\r\n  CLEAR_USER,\r\n} from '../types/userTypes';\r\n\r\nconst query = QueryApi.getInstance();\r\n\r\nexport const signin = (username) => async (dispatch) => {\r\n  dispatch({\r\n    type: AUTH_USER_LOADING,\r\n  });\r\n\r\n  const req = await query.signin(username);\r\n\r\n  dispatch({\r\n    type: req.ok ? AUTH_USER : AUTH_USER_ERROR,\r\n    payload: req.data,\r\n  });\r\n\r\n  if (req.ok) localStorage.setItem('authUser', JSON.stringify(req.data));\r\n};\r\n\r\nexport const signout = () => {\r\n  localStorage.removeItem('authUser');\r\n\r\n  return {\r\n    type: CLEAR_USER,\r\n  };\r\n};\r\n\r\nexport const signinFromStorage = () => {\r\n  const userInStorage = localStorage.getItem('authUser');\r\n\r\n  if (!userInStorage) return { type: 'none' };\r\n\r\n  return {\r\n    type: AUTH_USER,\r\n    payload: JSON.parse(userInStorage),\r\n  };\r\n};\r\n","import React from 'react';\r\nimport './Spinner.scss';\r\n\r\nexport default function Spinner({ as }) {\r\n  if (as === 'span') {\r\n    return (\r\n      <span\r\n        data-testid=\"spinner-span\"\r\n        className=\"spinner-border spinner-border-sm\"\r\n        role=\"status\"\r\n        aria-hidden=\"true\"\r\n      />\r\n    );\r\n  }\r\n  return (\r\n    <div\r\n      data-testid=\"spinner-div\"\r\n      className=\"spinner-border d-block mx-auto mt-5\"\r\n      role=\"status\"\r\n    >\r\n      <span className=\"sr-only\">Loading...</span>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useCallback } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Spinner from '../Spinner/Spinner';\r\n\r\nexport default function LoginForm({ handleSubmitForm, username, errorText }) {\r\n  const user = useSelector((state) => state.user);\r\n  const [usernameValue, setUsernameValue] = username;\r\n  const onChangeInputHandler = useCallback(({ target }) => {\r\n    setUsernameValue(target.value.trim());\r\n  }, [setUsernameValue]);\r\n\r\n  return (\r\n    <form data-testid=\"login-form\" onSubmit={handleSubmitForm}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"username-input\" className=\"w-100\">\r\n          Name\r\n        </label>\r\n        <input\r\n          id=\"username-input\"\r\n          data-testid=\"username-input\"\r\n          type=\"text\"\r\n          className={`form-control ${errorText ? 'is-invalid' : ''}`}\r\n          placeholder=\"David...\"\r\n          value={usernameValue}\r\n          onChange={onChangeInputHandler}\r\n        />\r\n        <div className=\"invalid-feedback \">{errorText}</div>\r\n      </div>\r\n      <button className=\"btn btn-primary btn-block\" type=\"submit\" disabled={user.isLoading}>\r\n        {user.isLoading && <Spinner as=\"span\" />}\r\n        Log in\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n","import LoginCard from './LoginCard';\r\n\r\nexport default LoginCard;\r\n","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport userImg from '../../img/unknown-guy.svg';\r\nimport { signin } from '../../store/actions/userActions';\r\nimport LoginForm from './LoginForm';\r\n\r\nexport default function LoginCard() {\r\n  const [username, setUsername] = useState('');\r\n  const [errorText, setErrorText] = useState(null);\r\n  const dispatch = useDispatch();\r\n  const user = useSelector((state) => state.user);\r\n\r\n  const handleSubmitForm = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (username.length < 4 || username.length > 16) {\r\n      setErrorText('Username is not valid');\r\n      return;\r\n    }\r\n\r\n    setErrorText(null);\r\n\r\n    dispatch(signin(username));\r\n  };\r\n\r\n  return (\r\n    <div data-testid=\"Login\" className=\"card login-card\">\r\n      <div className=\"card-header\">Login</div>\r\n      <img\r\n        className=\"card-img-top px-5 pt-4\"\r\n        src={user?.avatar ?? userImg}\r\n        alt=\"avatar\"\r\n      />\r\n      {user.token === null && (\r\n        <div className=\"card-body\">\r\n          <LoginForm\r\n            handleSubmitForm={handleSubmitForm}\r\n            username={[username, setUsername]}\r\n            errorText={errorText}\r\n          />\r\n        </div>\r\n      )}\r\n      {user.token !== null && (\r\n        <div className=\"card-body text-center\">\r\n          <h3>\r\n            Welcome,\r\n            {' '}\r\n            {user.username}\r\n          </h3>\r\n          <h6 className=\"text-muted\">Redirecting...</h6>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import LoginPage from './loginPage';\r\n\r\nexport default LoginPage;\r\n","import React, { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport LoginCard from '../../components/LoginCard';\r\n\r\nexport default function LoginPage({ history }) {\r\n  const user = useSelector((state) => state.user);\r\n\r\n  useEffect(() => {\r\n    document.title = 'Login';\r\n\r\n    if (user.token !== null) {\r\n      setTimeout(() => {\r\n        history.replace('/catalog');\r\n      }, 2000);\r\n    }\r\n  }, [user.token, history]);\r\n\r\n  return (\r\n    <div className=\"container full-height\">\r\n      <div className=\"row justify-content-center h-100\">\r\n        <div className=\"col-sm-6 col-xl-4\">\r\n          <div className=\"d-flex flex-column justify-content-center h-100\">\r\n            <LoginCard />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './ProductCard.scss';\r\n\r\nexport default function ProductCard({ product }) {\r\n  const {\r\n    id, title, price, cover, author,\r\n  } = product;\r\n\r\n  return (\r\n    <div className=\"card mb-4 product\">\r\n      <img className=\"card-img-top product-img\" data-testid=\"cover\" src={cover} alt={title} />\r\n      <div className=\"card-body\">\r\n        <h5 className=\"card-title\" data-testid=\"title\">{title}</h5>\r\n        <h6 className=\"card-subtitle mb-2 text-muted\" data-testid=\"author\">{author}</h6>\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-5\">\r\n            <span className=\"price\" data-testid=\"price\">{price}</span>\r\n          </div>\r\n          <div className=\"col-lg-7\">\r\n            <Link data-testid=\"link\" to={`/catalog/${id}`} className=\"bttn primary\">\r\n              View\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Wrapp({ children, className }) {\r\n  const classes = className ?? '';\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className={`row ${classes}`}>{children}</div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ProductCard from '../ProductCard/ProductCard';\r\nimport Wrapp from '../Wrapp/Wrapp';\r\n\r\nexport default function Catalog({ items }) {\r\n  return (\r\n    <Wrapp>\r\n      {items.map((item) => (\r\n        <div data-testid=\"Catalog-item\" className=\"col-sm-6 col-md-4 col-lg-3\" key={item.id}>\r\n          <ProductCard product={item} />\r\n        </div>\r\n      ))}\r\n    </Wrapp>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/search.4baf6059.svg\";","export default __webpack_public_path__ + \"static/media/filter.31993a05.svg\";","export const LOAD_BOOKS = 'LOAD_BOOKS';\r\nexport const LOAD_BOOKS_ERROR = 'LOAD_BOOKS_ERROR';\r\nexport const CLEAR_BOOKS_ERROR = 'CLEAR_BOOKS_ERROR';\r\nexport const LOAD_BOOKS_LOADING = 'LOAD_BOOKS_LOADING';\r\nexport const LOAD_BOOK_BY_ID = 'LOAD_BOOK_BY_ID';\r\nexport const LOAD_BOOK_BY_ID_LOADING = 'LOAD_BOOK_BY_ID_LOADING';\r\nexport const CLEAR_BOOK_SINGLE = 'CLEAR_BOOK_SINGLE';\r\n\r\nexport const FILTER_BOOKS = 'FILTER_BOOKS';\r\nexport const ADD_FILTER_BOOKS_BY_TITLE = 'ADD_FILTER_BOOKS_BY_TITLE';\r\nexport const ADD_FILTER_BOOKS_BY_PRICE = 'ADD_FILTER_BOOKS_BY_PRICE';\r\nexport const CLEAR_FILTER_BOOKS = 'CLEAR_FILTER_BOOKS';\r\n","import QueryApi from '../../service/QueryApi';\r\nimport {\r\n  LOAD_BOOKS,\r\n  LOAD_BOOKS_LOADING,\r\n  LOAD_BOOKS_ERROR,\r\n  LOAD_BOOK_BY_ID,\r\n  LOAD_BOOK_BY_ID_LOADING,\r\n  CLEAR_BOOK_SINGLE,\r\n  FILTER_BOOKS,\r\n  CLEAR_FILTER_BOOKS,\r\n  ADD_FILTER_BOOKS_BY_PRICE,\r\n  ADD_FILTER_BOOKS_BY_TITLE,\r\n} from '../types/booksTypes';\r\n\r\nconst query = QueryApi.getInstance();\r\n\r\nexport const loadBooks = () => async (dispatch) => {\r\n  dispatch({\r\n    type: LOAD_BOOKS_LOADING,\r\n  });\r\n\r\n  const { token } = JSON.parse(localStorage.getItem('authUser'));\r\n\r\n  const req = await query.loadBooks(token);\r\n\r\n  dispatch({\r\n    type: req.ok ? LOAD_BOOKS : LOAD_BOOKS_ERROR,\r\n    payload: req.data,\r\n  });\r\n};\r\n\r\nexport const loadBookById = (id) => async (dispatch) => {\r\n  dispatch({\r\n    type: LOAD_BOOK_BY_ID_LOADING,\r\n  });\r\n\r\n  const { token } = JSON.parse(localStorage.getItem('authUser'));\r\n\r\n  const req = await query.loadBookById(id, token);\r\n\r\n  dispatch({\r\n    type: req.ok ? LOAD_BOOK_BY_ID : LOAD_BOOKS_ERROR,\r\n    payload: req.data,\r\n  });\r\n};\r\n\r\nexport const clearBookSingle = () => ({\r\n  type: CLEAR_BOOK_SINGLE,\r\n});\r\n\r\nconst updateCatalog = (getState) => {\r\n  const { filterCondition } = getState().books;\r\n  let type = FILTER_BOOKS;\r\n\r\n  try {\r\n    if (filterCondition.title() && filterCondition.price()) {\r\n      type = CLEAR_FILTER_BOOKS;\r\n    }\r\n  } catch (e) {\r\n    type = FILTER_BOOKS;\r\n  }\r\n\r\n  return { type };\r\n};\r\n\r\nexport const filterBooksByPrice = (value) => (dispatch, getState) => {\r\n  let payload;\r\n  const type = ADD_FILTER_BOOKS_BY_PRICE;\r\n\r\n  if (value === 'to_25') {\r\n    payload = (price) => price < 25;\r\n  } else if (value === 'between') {\r\n    payload = (price) => price > 25 && price < 50;\r\n  } else if (value === 'higher_50') {\r\n    payload = (price) => price > 50;\r\n  } else {\r\n    payload = () => true;\r\n  }\r\n\r\n  dispatch({\r\n    type,\r\n    payload,\r\n  });\r\n\r\n  dispatch(updateCatalog(getState));\r\n};\r\n\r\nexport const filterByTitle = (value) => (dispatch, getState) => {\r\n  const searchText = value.trim().toLowerCase();\r\n  let payload;\r\n\r\n  if (value) {\r\n    payload = (title) => title.toLowerCase().includes(searchText);\r\n  } else {\r\n    payload = () => true;\r\n  }\r\n\r\n  dispatch({\r\n    type: ADD_FILTER_BOOKS_BY_TITLE,\r\n    payload,\r\n  });\r\n\r\n  dispatch(updateCatalog(getState));\r\n};\r\n","import CatalogControls from './CatalogControls';\r\n\r\nexport default CatalogControls;\r\n","import React, { useCallback, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport searchIcon from '../../img/search.svg';\r\nimport filterIcon from '../../img/filter.svg';\r\nimport Wrapp from '../Wrapp/Wrapp';\r\nimport { filterBooksByPrice, filterByTitle } from '../../store/actions/booksActions';\r\n\r\nexport default function CatalogControls() {\r\n  const [filterText, setFilterText] = useState('');\r\n  const [filterSelect, setFilterSelect] = useState('default');\r\n  const dispatch = useDispatch();\r\n\r\n  const filterByText = useCallback(({ target }) => {\r\n    const { value } = target;\r\n\r\n    setFilterText(value);\r\n    dispatch(filterByTitle(value));\r\n  }, [setFilterText, dispatch]);\r\n\r\n  const filterByPrice = useCallback(({ target }) => {\r\n    const { value } = target;\r\n\r\n    setFilterSelect(value);\r\n    dispatch(filterBooksByPrice(value));\r\n  }, [setFilterSelect, dispatch]);\r\n\r\n  return (\r\n    <Wrapp>\r\n      <div className=\"col-md-6 col-lg-3\">\r\n        <div className=\"input-group mb-4\">\r\n          <div className=\"input-group-prepend\">\r\n            <div className=\"input-group-text\">\r\n              <img src={searchIcon} style={{ width: 15 }} alt=\"icon\" />\r\n            </div>\r\n          </div>\r\n          <input\r\n            data-testid=\"search-book\"\r\n            className=\"form-control\"\r\n            placeholder=\"Find a book...\"\r\n            value={filterText}\r\n            onChange={filterByText}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"col-md-6 col-lg-3\">\r\n        <div className=\"input-group mb-4\">\r\n          <div className=\"input-group-prepend\">\r\n            <div className=\"input-group-text\">\r\n              <img src={filterIcon} style={{ width: 15 }} alt=\"icon\" />\r\n            </div>\r\n          </div>\r\n          <select\r\n            data-testid=\"filter-price\"\r\n            className=\"custom-select\"\r\n            value={filterSelect}\r\n            onChange={filterByPrice}\r\n          >\r\n            <option value=\"default\">Price...</option>\r\n            <option value=\"to_25\">&lt; 25</option>\r\n            <option value=\"between\">25 &lt; price &lt; 50</option>\r\n            <option value=\"higher_50\">&gt; 50</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n    </Wrapp>\r\n  );\r\n}\r\n","import IconMessage from './IconMessage';\r\n\r\nexport default IconMessage;\r\n","import React from 'react';\r\n\r\nexport default function IconMessage({ icon, message }) {\r\n  return (\r\n    <div className=\"col text-center text-muted\">\r\n      <img\r\n        src={icon}\r\n        className=\"w-25 p-5 mt-5\"\r\n        alt={message}\r\n        style={{ opacity: 0.2 }}\r\n      />\r\n      <h3>{message}</h3>\r\n    </div>\r\n  );\r\n}\r\n","import Wrapp from './Wrapp';\r\n\r\nexport default Wrapp;\r\n","export default __webpack_public_path__ + \"static/media/searchNotFound.ae3022be.svg\";","import React from 'react';\r\nimport IconMessage from '../../components/IconMessage';\r\nimport Wrapp from '../../components/Wrapp';\r\nimport searchNotFound from '../../img/searchNotFound.svg';\r\n\r\nexport default function CatalogFilterNotFound() {\r\n  return (\r\n    <Wrapp>\r\n      <IconMessage\r\n        icon={searchNotFound}\r\n        message=\"No books found...\"\r\n      />\r\n    </Wrapp>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/shopping-cart.8233c34c.svg\";","import Header from './Header';\r\n\r\nexport default Header;\r\n","import React, { useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport cartIcon from '../../img/shopping-cart.svg';\r\nimport { signout } from '../../store/actions/userActions';\r\nimport Wrapp from '../Wrapp/Wrapp';\r\nimport './Header.scss';\r\n\r\nexport default function Header() {\r\n  const user = useSelector((state) => state.user);\r\n  const cart = useSelector((state) => state.cart);\r\n  const dispatch = useDispatch();\r\n\r\n  const signOut = useCallback(() => {\r\n    dispatch(signout());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <header className=\"mb-5\">\r\n      <div className=\"bg-dark text-light\">\r\n        <Wrapp className=\"py-2 justify-content-end\">\r\n          <div className=\"col-5 col-xs-8 col-md-2 text-right pr-0\">\r\n            <span data-testid=\"username\" className=\"d-inline-block\" style={{ paddingTop: '.2rem' }}>\r\n              {user.username}\r\n              <img\r\n                data-testid=\"avatar\"\r\n                src={user.avatar}\r\n                style={{ width: 26, margin: '-3px 0 0 7px' }}\r\n                className=\"rounded\"\r\n                alt=\"avatar\"\r\n              />\r\n            </span>\r\n          </div>\r\n          <div className=\"col-5 col-xs-4 col-md-2\">\r\n            <button\r\n              data-testid=\"sign-out-button\"\r\n              className=\"bttn secondary solid btn-sm\"\r\n              type=\"button\"\r\n              onClick={signOut}\r\n            >\r\n              Sign Out\r\n            </button>\r\n          </div>\r\n        </Wrapp>\r\n      </div>\r\n      <div className=\"border-bottom bg-light\">\r\n        <Wrapp className=\"py-5\">\r\n          <div className=\"col-7 col-md-10\">\r\n            <h2 className=\"header-title\">\r\n              <Link to=\"/catalog\">JS Band Store</Link>\r\n            </h2>\r\n          </div>\r\n          <div className=\"col-5 col-md-2\">\r\n            <div className=\"d-flex flex-column justify-content-center h-100\">\r\n              <Link data-testid=\"cart-button\" to=\"/cart\" className=\"bttn light\">\r\n                <img className=\"bttn-img\" src={cartIcon} alt=\"cart\" />\r\n                Cart\r\n                {' '}\r\n                <b>\r\n                  (\r\n                  {cart.length}\r\n                  )\r\n                </b>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </Wrapp>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","import CatalogPage from './CatalogPage';\r\n\r\nexport default CatalogPage;\r\n","import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Catalog from '../../components/Catalog/Catalog';\r\nimport CatalogControls from '../../components/CatalogControls';\r\nimport CatalogFilterNotFound from './CatalogFilterNotFound';\r\nimport Header from '../../components/Header';\r\nimport Spinner from '../../components/Spinner/Spinner';\r\nimport { loadBooks } from '../../store/actions/booksActions';\r\nimport { CLEAR_FILTER_BOOKS } from '../../store/types/booksTypes';\r\n\r\nexport default function CatalogPage() {\r\n  const books = useSelector((state) => state.books);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    document.title = 'Catalog';\r\n\r\n    dispatch(loadBooks());\r\n\r\n    return () => {\r\n      dispatch({\r\n        type: CLEAR_FILTER_BOOKS,\r\n      });\r\n    };\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <CatalogControls />\r\n      {books.isCatalogLoading && <Spinner size=\"lg\" center />}\r\n      {!books.isCatalogLoading && <Catalog items={books.filteredCatalog ?? books.catalog} />}\r\n      {books.filteredCatalog && books.filteredCatalog.length === 0 && <CatalogFilterNotFound />}\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport './ProductDescription.scss';\r\n\r\nexport default function ProductDescription({ product }) {\r\n  const {\r\n    title,\r\n    author,\r\n    cover,\r\n    description,\r\n    tags,\r\n  } = product;\r\n\r\n  return (\r\n    <div className=\"card product-desc mb-4\">\r\n      <div className=\"row flex-column-reverse  flex-sm-row\">\r\n        <div className=\"col\">\r\n          <img data-testid=\"prod-cover\" src={cover} className=\"product-desc-img w-100\" alt=\"a\" />\r\n          <p data-testid=\"prod-desc\" className=\"p-4\">{description}</p>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"pt-4 pr-4 pl-4 pl-sm-0\">\r\n            <h3 data-testid=\"prod-title\">{title}</h3>\r\n            <span data-testid=\"prod-author\" className=\"text-muted h6\">{author}</span>\r\n            <p className=\"tags\">\r\n              {tags.map((tag) => <span key={tag} className=\"badge badge-secondary\">{tag}</span>)}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useCallback } from 'react';\r\n\r\nexport default function PriceCalc({\r\n  price, totalPrice, count, userCount, setUserCount, setTotalPrice,\r\n}) {\r\n  const multiplyPrice = useCallback((value) => +(value * price).toFixed(2), [price]);\r\n\r\n  const countChange = useCallback(({ target }) => {\r\n    const value = +target.value;\r\n\r\n    if (value <= count || value > 0) {\r\n      setTotalPrice(multiplyPrice(value));\r\n      setUserCount(value);\r\n    }\r\n  }, [count, multiplyPrice, setUserCount, setTotalPrice]);\r\n\r\n  return (\r\n    <div className=\"card p-4\">\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <p>Price, $</p>\r\n        </div>\r\n        <div className=\"col-md-4 col-xl-3 col-5 text-right\">\r\n          <p>{price}</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <p>Count</p>\r\n        </div>\r\n        <div className=\"col-md-4 col-xl-3 col-5 text-right\">\r\n          <div className=\"input-group\" style={{ marginTop: '-3px' }}>\r\n            <input\r\n              data-testid=\"price-counter\"\r\n              className=\"form-control form-control-sm\"\r\n              type=\"number\"\r\n              min=\"1\"\r\n              max={count}\r\n              value={userCount}\r\n              onChange={countChange}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"row font-weight-bold\">\r\n        <div className=\"col\">\r\n          <p>Total Price, $</p>\r\n        </div>\r\n        <div className=\"col-md-4 col-xl-3 col-5 text-right\">\r\n          <p data-testid=\"total-price\">{totalPrice}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export const PUSH_PRODUCT_TO_CART = 'PUSH_PRODUCT_TO_CART';\r\nexport const CLEAR_CART = 'CLEAR_CART';\r\n","import React, { useState, useCallback } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport ProductDescription from './ProductDescription';\r\nimport PriceCalc from './PriceCalc';\r\nimport Wrapp from '../Wrapp/Wrapp';\r\nimport { pushProductToCart } from '../../store/actions/cartActions';\r\n\r\nexport default function ProductSingle({ product }) {\r\n  const [userCount, setUserCount] = useState(1);\r\n  const [totalPrice, setTotalPrice] = useState(product.price);\r\n  const dispatch = useDispatch();\r\n\r\n  const addProductToCart = useCallback(() => {\r\n    const { id, title, price } = product;\r\n    dispatch(pushProductToCart({\r\n      id, title, userCount, price, totalPrice,\r\n    }));\r\n  },\r\n  [dispatch, product, userCount, totalPrice]);\r\n\r\n  return (\r\n    <Wrapp>\r\n      <div className=\"col-md-8\">\r\n        <ProductDescription product={product} />\r\n      </div>\r\n      <div className=\"col-md-4 mb-5\">\r\n        <PriceCalc\r\n          price={product.price}\r\n          totalPrice={totalPrice}\r\n          count={product.count}\r\n          userCount={userCount}\r\n          setUserCount={setUserCount}\r\n          setTotalPrice={setTotalPrice}\r\n        />\r\n        <div className=\"pt-4 text-right\">\r\n          <button\r\n            data-testid=\"push-to-cart-button\"\r\n            className=\"btn btn-success\"\r\n            type=\"button\"\r\n            onClick={addProductToCart}\r\n            disabled={userCount < 1 || userCount > product.count}\r\n          >\r\n            Add to cart\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </Wrapp>\r\n  );\r\n}\r\n","import {\r\n  PUSH_PRODUCT_TO_CART,\r\n} from '../types/cartTypes';\r\n\r\nexport const pushProductToCart = (product) => ({\r\n  type: PUSH_PRODUCT_TO_CART,\r\n  payload: product,\r\n});\r\n\r\nexport const a = 1;\r\n","import Spinner from './Spinner';\r\n\r\nexport default Spinner;\r\n","import ProductPage from './ProductPage';\r\n\r\nexport default ProductPage;\r\n","import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Header from '../../components/Header';\r\nimport ProductSingle from '../../components/ProductSingle/ProductSingle';\r\nimport { clearBookSingle, loadBookById } from '../../store/actions/booksActions';\r\nimport Spinner from '../../components/Spinner';\r\n\r\nexport default function ProductPage({ match }) {\r\n  const books = useSelector((state) => state.books);\r\n  const dispatch = useDispatch();\r\n  const { id } = match.params;\r\n\r\n  useEffect(() => {\r\n    dispatch(loadBookById(id));\r\n\r\n    return () => dispatch(clearBookSingle());\r\n  }, [id, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (books.single) {\r\n      document.title = books.single.title;\r\n    }\r\n  }, [books.single]);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      {books.isSingleLoading && <Spinner size=\"lg\" center />}\r\n      {!books.isSingleLoading && books.single && <ProductSingle product={books.single} />}\r\n    </>\r\n  );\r\n}\r\n","import Cart from './Cart';\r\n\r\nexport default Cart;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Wrapp from '../Wrapp/Wrapp';\r\n\r\nexport default function Cart({ items }) {\r\n  const [totalSum, setTotalSum] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const total = items.reduce((acc, { totalPrice }) => acc + totalPrice, 0);\r\n    setTotalSum(total.toFixed(2));\r\n  }, [items]);\r\n\r\n  return (\r\n    <Wrapp>\r\n      <div className=\"col\">\r\n        <div className=\"card p-4 table-responsive\">\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th className=\"w-75 border-top-0\">Name</th>\r\n                <th className=\"border-top-0 text-right\">Count</th>\r\n                <th className=\"border-top-0 text-right\">Price</th>\r\n                <th className=\"text-right border-top-0\">Total</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {items.map(({\r\n                key, title, userCount, price, totalPrice,\r\n              }) => (\r\n                <tr key={key} data-testid=\"cart-item\">\r\n                  <td>{title}</td>\r\n                  <td className=\"text-right\">{userCount}</td>\r\n                  <td className=\"text-right\">{price}</td>\r\n                  <td className=\"text-right\">{totalPrice}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"row mt-4 justify-content-end\">\r\n          <div className=\"col-md-2 col-sm-4 text-right\">\r\n            <b>\r\n              Total Price:\r\n              {' '}\r\n              {totalSum}\r\n              $\r\n            </b>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Wrapp>\r\n  );\r\n}\r\n","export const PURCHASE_SENDING = 'PURCHASE_SENDING';\r\nexport const PURCHASE_ERROR = 'PURCHASE_ERROR';\r\nexport const CLEAR_PURCHASE_ERROR = 'CLEAR_PURCHASE_ERROR';\r\nexport const PURCHASE_SUCCESS = 'PURCHASE_SUCCESS';\r\nexport const CLEAR_PURCHASE = 'CLEAR_PURCHASE';\r\n","import QueryApi from '../../service/QueryApi';\r\nimport {\r\n  PURCHASE_ERROR,\r\n  PURCHASE_SENDING,\r\n  PURCHASE_SUCCESS,\r\n} from '../types/purchaseTypes';\r\n\r\nconst query = QueryApi.getInstance();\r\n\r\nconst returnBooksIdArr = (products) => products.reduce((arr, { id, userCount }) => {\r\n  for (let i = 0; i < userCount; i += 1) arr.push(id);\r\n  return arr;\r\n}, []);\r\n\r\nconst purchaseCart = (products) => async (dispatch) => {\r\n  const productsId = returnBooksIdArr(products);\r\n\r\n  dispatch({\r\n    type: PURCHASE_SENDING,\r\n  });\r\n\r\n  const { token } = JSON.parse(localStorage.getItem('authUser'));\r\n\r\n  const req = await query.purchase(productsId, token);\r\n\r\n  dispatch({\r\n    type: req.ok ? PURCHASE_SUCCESS : PURCHASE_ERROR,\r\n    payload: req?.data ?? { message: 'Network error' },\r\n  });\r\n};\r\n\r\nexport default purchaseCart;\r\n","import React, { useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport purchaseCart from '../../store/actions/purchaseActions';\r\nimport Wrapp from '../Wrapp/Wrapp';\r\nimport Spinner from '../Spinner';\r\n\r\nexport default function CartPurchase({ isAvialable }) {\r\n  const cart = useSelector((state) => state.cart);\r\n  const purchase = useSelector((state) => state.purchase);\r\n  const dispatch = useDispatch();\r\n\r\n  const sendPurchase = useCallback(() => {\r\n    dispatch(purchaseCart(cart));\r\n  }, [dispatch, cart]);\r\n\r\n  return (\r\n    <Wrapp>\r\n      <div className=\"col\">\r\n        <div className=\"row mb-4 justify-content-end\">\r\n          <div className=\"col-md-2 col-sm-4\">\r\n            <button\r\n              data-testid=\"purchase-button\"\r\n              className=\"bttn primary solid\"\r\n              type=\"button\"\r\n              onClick={sendPurchase}\r\n              disabled={!isAvialable}\r\n            >\r\n              {purchase.isSending && <Spinner as=\"span\" />}\r\n              Purchase\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Wrapp>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Wrapp from '../Wrapp/Wrapp';\r\nimport cartIcon from '../../img/shopping-cart.svg';\r\nimport IconMessage from '../IconMessage';\r\n\r\nexport default function CartEmpty() {\r\n  return (\r\n    <Wrapp>\r\n      <IconMessage\r\n        icon={cartIcon}\r\n        message=\"Cart empty...\"\r\n      />\r\n    </Wrapp>\r\n  );\r\n}\r\n","export const OPEN_MODAL = 'OPEN_MODAL';\r\nexport const CLOSE_MODAL = 'CLOSE_MODAL';\r\n","import CartPage from './CartPage';\r\n\r\nexport default CartPage;\r\n","import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Header from '../../components/Header';\r\nimport Cart from '../../components/Cart';\r\nimport CartPurchase from '../../components/Cart/CartPurchase';\r\nimport CartEmpty from '../../components/Cart/CartEmpty';\r\nimport { OPEN_MODAL } from '../../store/types/modalTypes';\r\nimport { CLEAR_PURCHASE } from '../../store/types/purchaseTypes';\r\nimport { CLEAR_CART } from '../../store/types/cartTypes';\r\n\r\nexport default function CartPage() {\r\n  const cart = useSelector((state) => state.cart);\r\n  const purchase = useSelector((state) => state.purchase);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    document.title = `Cart (${cart.length})`;\r\n  }, [cart.length]);\r\n\r\n  useEffect(() => {\r\n    if (purchase.isSuccess) {\r\n      dispatch({\r\n        type: OPEN_MODAL,\r\n        payload: {\r\n          title: 'You successfully placed an order',\r\n          message: <Cart items={[...cart]} />,\r\n          onClose: () => {\r\n            dispatch({ type: CLEAR_PURCHASE });\r\n            dispatch({ type: CLEAR_CART });\r\n          },\r\n        },\r\n      });\r\n    }\r\n  }, [purchase.isSuccess, dispatch, cart]);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <CartPurchase isAvialable={cart.length > 0} />\r\n      {cart.length === 0 && <CartEmpty />}\r\n      {cart.length > 0 && <Cart items={cart} />}\r\n    </>\r\n  );\r\n}\r\n","import NotFoundPage from './NotFoundPage';\r\n\r\nexport default NotFoundPage;\r\n","import React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Wrapp from '../../components/Wrapp/Wrapp';\r\n\r\nexport default function NotFoundPage() {\r\n  useEffect(() => {\r\n    document.title = '404  Page not found';\r\n  }, []);\r\n\r\n  return (\r\n    <Wrapp>\r\n      <div className=\"col text-center mt-5 pt-5\">\r\n        <img\r\n          alt=\"page not found\"\r\n          src=\"https://media.giphy.com/media/tvGOBZKNEX0ac/giphy-downsized-large.gif\"\r\n          className=\"w-100 mb-3 rounded\"\r\n        />\r\n        <h1>Sorry, page not found</h1>\r\n        <div>\r\n          <Link className=\"btn btn-primary mt-3\" to=\"/\">Return to main page</Link>\r\n        </div>\r\n      </div>\r\n    </Wrapp>\r\n  );\r\n}\r\n","import Modal from './Modal';\r\n\r\nexport default Modal;\r\n","import React, { useCallback, useEffect, useRef } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport './Modal.scss';\r\nimport { CLOSE_MODAL } from '../../store/types/modalTypes';\r\n\r\nexport default function Modal({ data, error }) {\r\n  const { title, message, onClose } = error ? data.errorMessage : data;\r\n  const modalWrapp = useRef(null);\r\n  const dispatch = useDispatch();\r\n\r\n  const closeModal = useCallback(() => {\r\n    if (error) data.clearError();\r\n    else dispatch({ type: CLOSE_MODAL });\r\n\r\n    if (onClose) onClose();\r\n  }, [dispatch, onClose, data, error]);\r\n\r\n  useEffect(() => {\r\n    const wrapper = modalWrapp.current;\r\n    const handlerWrappClick = ({ target }) => {\r\n      if (target.classList.contains('modal-click')) closeModal();\r\n    };\r\n\r\n    wrapper.addEventListener('click', handlerWrappClick);\r\n\r\n    return () => wrapper.removeEventListener('click', handlerWrappClick);\r\n  }, [dispatch, closeModal]);\r\n\r\n  return (\r\n    <div className=\"modal-card-wrapp container-fluid\" ref={modalWrapp}>\r\n      <div data-testid=\"modal-wrapper\" className=\"row modal-click justify-content-center align-items-center h-100\">\r\n        <div className=\"col-xl-7 col-md-9\">\r\n          <div data-testid=\"modal-error\" className={`card modal-card ${error ? 'modal-card-error' : ''}`}>\r\n            <div className=\"card-header pt-3\">\r\n              <h5 data-testid=\"modal-title\">{title}</h5>\r\n            </div>\r\n            <div className=\"card-body\" data-testid=\"modal-message\">\r\n              {message}\r\n            </div>\r\n            <div className=\"card-footer\">\r\n              <div className=\"row justify-content-end\">\r\n                <div className=\"col-md-3 col-xl-2\">\r\n                  <button\r\n                    data-testid=\"close-modal-button\"\r\n                    className=\"bttn primary btn-close\"\r\n                    type=\"button\"\r\n                    onClick={closeModal}\r\n                  >\r\n                    Close\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect, useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { CLEAR_BOOKS_ERROR } from '../store/types/booksTypes';\r\nimport { CLEAR_PURCHASE_ERROR } from '../store/types/purchaseTypes';\r\nimport { CLEAR_USER_ERROR } from '../store/types/userTypes';\r\n\r\nconst useRequestError = () => {\r\n  const [isError, setError] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState({});\r\n  const user = useSelector((state) => state.user);\r\n  const books = useSelector((state) => state.books);\r\n  const purchase = useSelector((state) => state.purchase);\r\n  const dispatch = useDispatch();\r\n\r\n  const clearError = useCallback(() => {\r\n    dispatch({ type: CLEAR_BOOKS_ERROR });\r\n    dispatch({ type: CLEAR_USER_ERROR });\r\n    dispatch({ type: CLEAR_PURCHASE_ERROR });\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    let message = null;\r\n\r\n    if (user.error) {\r\n      message = {\r\n        title: 'Authorization Error',\r\n        message: user.error.message,\r\n      };\r\n    } else if (books.error) {\r\n      message = {\r\n        title: 'Books Loading Error',\r\n        message: books.error.message,\r\n      };\r\n    } else if (purchase.error) {\r\n      message = {\r\n        title: 'Purchase Error',\r\n        message: purchase.error.message,\r\n      };\r\n    }\r\n\r\n    setError(!!message);\r\n    setErrorMessage(message);\r\n  }, [user.error, books.error, purchase.error]);\r\n\r\n  return {\r\n    isError,\r\n    errorMessage,\r\n    clearError,\r\n  };\r\n};\r\n\r\nexport default useRequestError;\r\n","import React, { useEffect } from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Redirect,\r\n  Route,\r\n  Switch,\r\n} from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport LoginPage from './pages/LoginPage';\r\nimport CatalogPage from './pages/CatalogPage';\r\nimport ProductPage from './pages/ProductPage';\r\nimport CartPage from './pages/CartPage';\r\nimport NotFoundPage from './pages/NotFoundPage';\r\nimport { signinFromStorage } from './store/actions/userActions';\r\nimport Modal from './components/Modal';\r\nimport useRequestError from './hooks/useRequestError';\r\n\r\nexport default function App() {\r\n  const user = useSelector((state) => state.user);\r\n  const modal = useSelector((state) => state.modal);\r\n  const error = useRequestError();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(signinFromStorage());\r\n  }, [user.token, dispatch]);\r\n\r\n  if (user.token || localStorage.getItem('authUser')) {\r\n    return (\r\n      <>\r\n        {error.isError && <Modal error data={error} />}\r\n        {modal.message && <Modal data={modal} />}\r\n        <Router basename={process.env.PUBLIC_URL}>\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <Redirect to=\"/catalog\" />\r\n            </Route>\r\n            <Route exact path=\"/login\" component={LoginPage} />\r\n            <Route exact path=\"/catalog\" component={CatalogPage} />\r\n            <Route exact path=\"/cart\" component={CartPage} />\r\n            <Route path=\"/catalog/:id\" component={ProductPage} />\r\n            <Route exact path=\"/not-found\" component={NotFoundPage} />\r\n            <Route path=\"*\">\r\n              <Redirect to=\"/no-found\" />\r\n            </Route>\r\n          </Switch>\r\n        </Router>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {error.isError && <Modal error data={error} />}\r\n      {modal.message && <Modal message={modal.message} />}\r\n      <Router basename={process.env.PUBLIC_URL}>\r\n        <Switch>\r\n          <Route exact path=\"/login\" component={LoginPage} />\r\n          <Route exact path=\"/not-found\" component={NotFoundPage} />\r\n          <Route path=\"*\">\r\n            <Redirect to=\"/login\" />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </>\r\n  );\r\n}\r\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\r\n  AUTH_USER,\r\n  AUTH_USER_ERROR,\r\n  CLEAR_USER_ERROR,\r\n  AUTH_USER_LOADING,\r\n  CLEAR_USER,\r\n} from '../types/userTypes';\r\n\r\nconst initialState = {\r\n  username: null,\r\n  token: null,\r\n  avatar: null,\r\n  isLoading: false,\r\n  error: null,\r\n};\r\n\r\nexport default function userReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case AUTH_USER:\r\n      return {\r\n        isLoading: false,\r\n        error: null,\r\n        ...action.payload,\r\n      };\r\n    case AUTH_USER_ERROR:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        error: action.payload,\r\n      };\r\n    case CLEAR_USER_ERROR:\r\n      return {\r\n        ...state,\r\n        error: null,\r\n      };\r\n    case AUTH_USER_LOADING:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n      };\r\n    case CLEAR_USER:\r\n      return {\r\n        ...initialState,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  LOAD_BOOKS,\r\n  LOAD_BOOKS_LOADING,\r\n  LOAD_BOOKS_ERROR,\r\n  CLEAR_BOOKS_ERROR,\r\n  LOAD_BOOK_BY_ID,\r\n  LOAD_BOOK_BY_ID_LOADING,\r\n  CLEAR_BOOK_SINGLE,\r\n  FILTER_BOOKS,\r\n  CLEAR_FILTER_BOOKS,\r\n  ADD_FILTER_BOOKS_BY_PRICE,\r\n  ADD_FILTER_BOOKS_BY_TITLE,\r\n} from '../types/booksTypes';\r\n\r\nconst initialState = {\r\n  catalog: [],\r\n  filterCondition: {\r\n    title: () => true,\r\n    price: () => true,\r\n  },\r\n  filteredCatalog: null,\r\n  single: null,\r\n  isCatalogLoading: false,\r\n  isSingleLoading: false,\r\n  error: null,\r\n};\r\n\r\nconst filterConditions = (cond) => ({ title, price }) => cond.title(title) && cond.price(price);\r\n\r\nexport default function userReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case LOAD_BOOKS:\r\n      return {\r\n        ...state,\r\n        catalog: action.payload,\r\n        isCatalogLoading: false,\r\n      };\r\n    case LOAD_BOOKS_LOADING:\r\n      return {\r\n        ...state,\r\n        isCatalogLoading: true,\r\n      };\r\n    case LOAD_BOOK_BY_ID:\r\n      return {\r\n        ...state,\r\n        single: action.payload,\r\n        isSingleLoading: false,\r\n      };\r\n    case LOAD_BOOK_BY_ID_LOADING:\r\n      return {\r\n        ...state,\r\n        isSingleLoading: true,\r\n      };\r\n    case LOAD_BOOKS_ERROR:\r\n      return {\r\n        ...state,\r\n        error: action.payload,\r\n      };\r\n    case CLEAR_BOOKS_ERROR:\r\n      return {\r\n        ...state,\r\n        error: null,\r\n      };\r\n    case CLEAR_BOOK_SINGLE:\r\n      return {\r\n        ...state,\r\n        single: null,\r\n      };\r\n    case ADD_FILTER_BOOKS_BY_PRICE:\r\n      return {\r\n        ...state,\r\n        filterCondition: {\r\n          ...state.filterCondition,\r\n          price: action.payload,\r\n        },\r\n      };\r\n    case ADD_FILTER_BOOKS_BY_TITLE:\r\n      return {\r\n        ...state,\r\n        filterCondition: {\r\n          ...state.filterCondition,\r\n          title: action.payload,\r\n        },\r\n      };\r\n    case FILTER_BOOKS:\r\n      return {\r\n        ...state,\r\n        filteredCatalog: state.catalog.filter(filterConditions(state.filterCondition)),\r\n      };\r\n    case CLEAR_FILTER_BOOKS:\r\n      return {\r\n        ...state,\r\n        filteredCatalog: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { CLEAR_CART, PUSH_PRODUCT_TO_CART } from '../types/cartTypes';\r\n\r\nconst initialState = [];\r\n\r\nexport default function userReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case PUSH_PRODUCT_TO_CART:\r\n      return [\r\n        ...state,\r\n        {\r\n          ...action.payload,\r\n          key: state.length,\r\n        },\r\n      ];\r\n    case CLEAR_CART:\r\n      return [];\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  PURCHASE_SUCCESS,\r\n  PURCHASE_ERROR,\r\n  CLEAR_PURCHASE_ERROR,\r\n  PURCHASE_SENDING,\r\n  CLEAR_PURCHASE,\r\n} from '../types/purchaseTypes';\r\n\r\nconst initialState = {\r\n  isSending: false,\r\n  isSuccess: false,\r\n  error: null,\r\n};\r\n\r\nexport default function userReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case PURCHASE_SENDING:\r\n      return {\r\n        ...state,\r\n        isSending: true,\r\n      };\r\n    case PURCHASE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isSuccess: true,\r\n        isSending: false,\r\n      };\r\n    case PURCHASE_ERROR:\r\n      return {\r\n        ...state,\r\n        error: action.payload,\r\n        isSending: false,\r\n      };\r\n    case CLEAR_PURCHASE_ERROR:\r\n      return {\r\n        ...state,\r\n        error: null,\r\n      };\r\n    case CLEAR_PURCHASE:\r\n      return {\r\n        ...initialState,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  OPEN_MODAL,\r\n  CLOSE_MODAL,\r\n} from '../types/modalTypes';\r\n\r\nconst initialState = {\r\n  message: null,\r\n  title: null,\r\n  onClose: null,\r\n};\r\n\r\nexport default function userReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case OPEN_MODAL:\r\n      return {\r\n        ...action.payload,\r\n      };\r\n\r\n    case CLOSE_MODAL:\r\n      return {\r\n        ...initialState,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport userReducer from './userReducer';\r\nimport booksReducer from './booksReducer';\r\nimport cartReducer from './cartReducer';\r\nimport purchaseReducer from './purchaseReducer';\r\nimport modalReducer from './modalReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  user: userReducer,\r\n  books: booksReducer,\r\n  cart: cartReducer,\r\n  purchase: purchaseReducer,\r\n  modal: modalReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunk));\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './scss/index.scss';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}